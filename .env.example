# ===========================================
# SocyBase Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
#
# DEPLOYMENT MODES:
#   Docker Compose: Use docker-compose.yml (local dev)
#   Railway:        See DEPLOY.md for Railway setup guide
#
# Railway auto-provides DATABASE_URL and REDIS_URL when you
# add PostgreSQL and Redis plugins â€” no need to set them manually.

# --- Database ---
# Docker: uses service name "postgres" as host
# Railway: auto-injected by PostgreSQL plugin (postgresql:// format, auto-converted)
POSTGRES_USER=socybase
POSTGRES_PASSWORD=changeme_db_password
POSTGRES_DB=socybase
DATABASE_URL=postgresql+asyncpg://socybase:changeme_db_password@postgres:5432/socybase

# --- Redis ---
# Docker: uses service name "redis" as host
# Railway: auto-injected by Redis plugin
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# --- JWT Auth ---
JWT_SECRET_KEY=changeme_jwt_secret_at_least_32_chars_long
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# --- Facebook Graph API (akng.io.vn) ---
AKNG_BASE_URL=https://api.akng.io.vn/graph
AKNG_ACCESS_TOKEN=010ae806423eb40e0daf4dbf27842a2c
AKNG_API_VERSION=v19.0
AKNG_RATE_LIMIT_PER_SECOND=10

# --- Stripe Payments ---
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# --- Email (optional) ---
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@socybase.com

# --- App Settings ---
APP_NAME=SocyBase
APP_ENV=development
APP_DEBUG=true
# Railway: set these to your Railway-generated domains
# e.g. BACKEND_URL=https://socybase-backend.up.railway.app
# e.g. FRONTEND_URL=https://socybase-frontend.up.railway.app
BACKEND_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000
CORS_ORIGINS=http://localhost:3000

# --- Super Admin (seeded on first run) ---
SUPER_ADMIN_EMAIL=admin@socybase.com
SUPER_ADMIN_PASSWORD=changeme_admin_password

# --- File Storage ---
UPLOAD_DIR=/app/uploads
EXPORT_DIR=/app/exports
MAX_UPLOAD_SIZE_MB=10

# --- Google OAuth 2.0 ---
# Create at: https://console.cloud.google.com/apis/credentials
# Type: OAuth 2.0 Client ID (Web application)
# Redirect URI: http://localhost:8000/api/v1/auth/google/callback
# NO Firebase needed - pure Google OAuth 2.0
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/api/v1/auth/google/callback

# --- Telegram Bot ---
# Create a bot via @BotFather on Telegram and paste the token here
# Commands to register with BotFather:
#   /start - Link your SocyBase account
#   /jobs - List your recent jobs
#   /newjob - Create a new scraping job
#   /status - Check a specific job status
#   /credits - Check your credit balance
TELEGRAM_BOT_TOKEN=

# --- WhatsApp Admin Notifications (Baileys) ---
# URL of the WhatsApp Baileys microservice (Docker: http://whatsapp:3001)
WHATSAPP_SERVICE_URL=http://whatsapp:3001
# Admin phone number to receive notifications (e.g. 60123456789, no + prefix)
WHATSAPP_ADMIN_NUMBER=
